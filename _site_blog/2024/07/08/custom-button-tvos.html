<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-COMPATIBLE" content="ie=edge" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />

  <title>Custom Button tvOS</title>
  <link rel="icon" type="image/png" href=/assets/images/fav/favicon16.png sizes="16x16" />
  <link rel="icon" type="image/png" href=/assets/images/fav/favicon32.png sizes="32x32" />
  <link rel="icon" type="image/png" href=/assets/images/fav/favicon96.png sizes="96x96" />
  <link rel="stylesheet" href=/assets/css/styles.css>
  <link rel="stylesheet" href=/assets/css/syntax.css>
</head>

<body>
  <div class="container">
    <header class="header">
  <img class="logo" src="/assets/images/banner_logo.png" alt="CodeKunda logo" />

  <div style="color: #333">
    Articles and News about Mobile Development and Software Development in
    general, by Prajeet Shrestha
  </div>
  <nav class="topbar">
  <ul class="top-nav">
    
    <li
      class="top-nav__item "
    >
      <a href="/index.html">
        <svg class="top-nav__icon">
          <use class="top-nav__icon-use" xlink:href="/assets/images/sprite.svg#icon-open-book"></use>
        </svg>
        <span>Articles</span>
      </a>
    </li>
    
    <li
      class="top-nav__item "
    >
      <a href="/authors.html">
        <svg class="top-nav__icon">
          <use class="top-nav__icon-use" xlink:href="/assets/images/sprite.svg#icon-quill"></use>
        </svg>
        <span>Authors</span>
      </a>
    </li>
    
    <li
      class="top-nav__item "
    >
      <a href="/topics.html">
        <svg class="top-nav__icon">
          <use class="top-nav__icon-use" xlink:href="/assets/images/sprite.svg#icon-quill"></use>
        </svg>
        <span>Topics</span>
      </a>
    </li>
    
    <li
      class="top-nav__item "
    >
      <a href="/about.html">
        <svg class="top-nav__icon">
          <use class="top-nav__icon-use" xlink:href="/assets/images/sprite.svg#icon-info"></use>
        </svg>
        <span>About</span>
      </a>
    </li>
    
  </ul>
</nav>

</header>

    <div class="content">
      <main class="main-view">
        <div class="main-view__content"><div class="post-container">
  <h1>Custom Button tvOS</h1>
  <div class="post-content">
    <p>
      08 Jul 2024  
    </p>

    <p>Customization of buttons in tvOS is done through <strong>buttonStyles</strong> view modifier and implementing <strong>ButtonStyle</strong> protocol.</p>
<p>
    <strong>ButtonStyle</strong> is a protocol that defines type that applies standard interaction behavior and a custom appearance to all buttons within a view hierarchy.
</p>
<!--more-->
<div class="code-container">
    <figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">struct</span> <span class="kt">CustomButtonStyle</span><span class="p">:</span> <span class="kt">ButtonStyle</span> <span class="p">{</span>
    
        <span class="kd">@Environment</span> <span class="p">(\</span><span class="o">.</span><span class="n">isFocused</span><span class="p">)</span> <span class="k">var</span> <span class="nv">focused</span>
        <span class="k">var</span> <span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">Color</span> <span class="o">=</span> <span class="o">.</span><span class="n">orange</span>
        <span class="k">var</span> <span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">Color</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        
        <span class="kd">private</span> <span class="k">var</span> <span class="nv">padding</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">32.0</span>
        <span class="kd">private</span> <span class="k">var</span> <span class="nv">cornerRadius</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">20.0</span>
        <span class="kd">private</span> <span class="k">var</span> <span class="nv">strokeWidth</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">5.0</span>
        <span class="kd">private</span> <span class="k">var</span> <span class="nv">scale</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">1.05</span>
        
        <span class="nf">init</span><span class="p">(</span><span class="nv">backgroundColor</span><span class="p">:</span> <span class="kt">Color</span><span class="p">,</span> <span class="nv">foregroundColor</span><span class="p">:</span> <span class="kt">Color</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">backgroundColor</span>
            <span class="k">self</span><span class="o">.</span><span class="n">foregroundColor</span> <span class="o">=</span> <span class="n">foregroundColor</span>
        <span class="p">}</span>
        
        <span class="kd">func</span> <span class="nf">makeBody</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="kt">Configuration</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
            <span class="n">configuration</span><span class="o">.</span><span class="n">label</span>
                <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="n">padding</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">background</span><span class="p">(</span><span class="n">focused</span> <span class="p">?</span> <span class="o">.</span><span class="nv">orange</span> <span class="p">:</span> <span class="o">.</span><span class="n">clear</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">foregroundColor</span><span class="p">(</span><span class="n">foregroundColor</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">cornerRadius</span><span class="p">(</span><span class="n">cornerRadius</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">overlay</span><span class="p">(</span>
                    <span class="kt">RoundedRectangle</span><span class="p">(</span><span class="nv">cornerRadius</span><span class="p">:</span> <span class="n">cornerRadius</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">stroke</span><span class="p">(</span><span class="n">focused</span> <span class="p">?</span> <span class="o">.</span><span class="nv">clear</span> <span class="p">:</span> <span class="o">.</span><span class="n">white</span><span class="p">,</span>
                                <span class="nv">lineWidth</span><span class="p">:</span> <span class="n">focused</span>  <span class="p">?</span> <span class="mi">0</span> <span class="p">:</span> <span class="n">strokeWidth</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="nf">scaleEffect</span><span class="p">(</span><span class="n">focused</span> <span class="p">?</span> <span class="nv">scale</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">animation</span><span class="p">(</span><span class="o">.</span><span class="n">easeIn</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="n">focused</span> <span class="p">?</span> <span class="nv">scale</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure>
</div>

<h3>Use the buttonStyle </h3>   
<div class="code-container">
    <figure class="highlight"><pre><code class="language-swift" data-lang="swift">    <span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
            <span class="kt">VStack</span> <span class="p">{</span>
                <span class="kt">Button</span> <span class="p">{</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"More button tappped"</span><span class="p">)</span>
                <span class="p">}</span> <span class="nv">label</span><span class="p">:</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"More"</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">maxWidth</span><span class="p">:</span> <span class="o">.</span><span class="n">infinity</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="kt">Button</span> <span class="p">{</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"Play button tappped"</span><span class="p">)</span>
                <span class="p">}</span> <span class="nv">label</span><span class="p">:</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Play"</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">maxWidth</span><span class="p">:</span> <span class="o">.</span><span class="n">infinity</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="o">.</span><span class="nf">buttonStyle</span><span class="p">(</span><span class="kt">CustomButtonStyle</span><span class="p">(</span>
                <span class="nv">backgroundColor</span><span class="p">:</span> <span class="o">.</span><span class="n">orange</span><span class="p">,</span>
                <span class="nv">foregroundColor</span><span class="p">:</span> <span class="o">.</span><span class="n">white</span><span class="p">))</span>
            <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">maxWidth</span><span class="p">:</span> <span class="mi">400</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre></figure>
</div>

<h3>Disection</h3>
<p>
    <code>func makeBody(configuration: Configuration) -> some View</code></p>
    This method needs to be implemented by your custom ButtonStyle. It takes a Configuration object as a parameter and returns a view. The Configuration object contains the button’s label and <code> @Environment (\.isFocused) var focused</code>  indicates whether the button is currently focused.
    You can customize the button according to the focused state.
</p>

<h3>Output</h3>
<img width=300 height: auto src=/assets/images/posts/custom-button-tvos/output.png class="illustration">
    
<div class="post-tags">
   
  <a href="/tags/tvos.html">tvos</a>
   
  <a href="/tags/swift.html">swift</a>
  
</div>


  </div>
</div>


<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://codekunda-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>
      </main>
    </div>
  </div>
  <script src="/assets/js/main.js"></script>
</body>

</html>